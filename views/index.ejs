<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <title>URL Shrinker</title>
    <style>
        body {
            padding: 20px;
            background-color: rgb(172, 224, 225);
        }
        .header {
            text-align: center;
            margin-top:30px;
            margin-bottom: 30px;
            margin-right: 30px;
        }

  .s-container {
      margin: 20px;
    }

    .s-form {
      text-align: center;
      padding: 20px;
      background-color: #f2f2f2;
    }

    .header {
      color: #0f0303;
    }

    .input-group {
      margin-top: 20px;
    }

    .form-control {
      width: 300px;
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 4px;
    }

    .btn {
      padding: 10px 20px;
      background-color: #337ab7;
      color: #fff;
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }

    .btn:hover {
      background-color: #286090;
    }

        
   
        .h{
            
            font-family: 'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif;
            font-size: 90px;
            color: #0f100e;
            
        } 
          .error-message {
              color: red;
              margin-bottom: 10px;
            }
  
    </style>
</head>
<body>
            <div class="container">
            <div class="header">
                <h1 class="h">Shorten the URL</h1>
            </div>


            <div class="s-container">
                <div class="s-form">
                  <h3 class="header">Paste the URL for Search</h3>
                  <form action="/" method="GET">
                    <div class="input-group">
                      <input type="text" name="q" placeholder="Search URLs" class="form-control" />
                      <button class="btn btn-secondary" type="submit">Search</button>
                    </div>
                  </form>
                </div>
              </div>




   


     <div class="s-container">
        <div class="s-form">
            <h3 class="header">Paste the URL to be shortened</h3>
            <form action="/shortUrls" method="POST">
                <div class="input-group">
                <input required placeholder="Enter the URL here" type="url" name="fullUrl" class="form-control">
            
                <input  placeholder="Add a note(optional)" type="text" name="note"  class="form-control">
                <button class="btn btn-primary" type="submit">Shrink</button>
            </div>
            </form>
        </div>
    </div>
    <div class="error-message">
        <% if (errorMessage) { %>
            <p><%= errorMessage %></p>
        <% } %>
    </div>
    <table class="table table-dark">
        <thead>
            <tr>
                <th scope="col">Full url</th>
                <th scope="col">Short URL</th>
                <th scope="col">Note</th>
                <th scope="col">Clicks</th>
              </tr>
        </thead>
        <tbody>

            <% shortUrls.forEach(shortUrl => { %>
                <tr class="table-active">
                    <td><a href="<%= shortUrl.full %>" target="_blank"><%= shortUrl.full %></a></td>
                    <td><a href="/<%= shortUrl.short %>" target="_blank"><%= shortUrl.short %></a></td>
                    <td><%= shortUrl.note %></td>
                    <td><%= shortUrl.clicks %></td>
                </tr>
            <% }) %>

        </tbody>
      </table>
          
    </div>
</body>
</html>
